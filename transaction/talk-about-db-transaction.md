# 聊聊数据库事物处理

## 1. 事物的4个基本特新

1. 原子性
2. 一致性
3. 隔离性
4. 持久性

## 2. 事物的隔离级别

1. 场景：并发修改提交，脏数据
2. 并发安全和性能互斥



隔离级别，由低到高的顺序是：

1. 未提交读
2. 读写提交
3. 可重复读
4. 串行话

---

* 未提交读：一个事物可以读取到另一个事物没有提交的数据，出现脏读。危险，不使用。
* 读写提交：一个事物只能读取另一个事物提交的数据，不能读取未提交的数据。不可重复读。
* 可重复读：一个事物等待另一个事物提交后再读取。行锁。容易出现幻读。
* 串行化：最高隔离级别，sql顺序执行，克服各种问题，保证数据的一致性。


现实中，隔离级别以读写提交为主，可以防止脏读，不能避免不可重复读和幻读。

为了克服数据不一致和性能问题，不再使用数据库而使用其他手段，redis分布式锁























